{% extends "base.html" %}
{% block content %}
<div class="intake-card">
  <h2 class="mb-4">Manage Lead</h2>
  <form method="POST" action="{{ url_for('update_lead', lead_id=lead.id) }}">
    <div class="mb-3">
      <label for="name" class="form-label">Name</label>
      <input type="text" name="name" class="form-control" value="{{ lead.name }}">
    </div>
    <div class="mb-3">
      <label for="phone" class="form-label">Phone</label>
      <input type="tel" name="phone" class="form-control" value="{{ lead.phone }}">
    </div>
    <div class="mb-3">
      <label for="email" class="form-label">Email</label>
      <input type="email" name="email" class="form-control" value="{{ lead.email }}">
    </div>
    <div class="mb-3">
      <label for="court" class="form-label">Court</label>
      <input type="text" name="court" class="form-control" value="{{ lead.court }}">
    </div>
    <div class="mb-3">
      <label for="charges" class="form-label">Charges</label>
      <textarea name="charges" class="form-control">{{ lead.charges }}</textarea>
    </div>
    <div class="mb-3">
      <label for="facts" class="form-label">Facts</label>
      <textarea name="facts" class="form-control">{{ lead.facts }}</textarea>
    </div>
    <div class="mb-3">
      <label for="notes" class="form-label">Notes</label>
      <textarea name="notes" class="form-control">{{ lead.notes }}</textarea>
    </div>
    <div class="mb-3">
      <label for="homework" class="form-label">Homework</label>
      <textarea name="homework" class="form-control">{{ lead.homework }}</textarea>
    </div>
    <div class="mb-3">
      <label for="court_date" class="form-label">Court Date</label>
      <input type="date" name="court_date" class="form-control" value="{{ lead.court_date }}">
    </div>
    <div class="mb-3">
      <label for="court_time" class="form-label">Court Time</label>
      <input type="time" name="court_time" class="form-control" value="{{ lead.court_time }}">
    </div>
    <div class="mb-3 form-floating">
      <select name="staff_member" class="form-select" id="staffMemberSelect">
        <option value="">-- Select Staff Member --</option>
        <option value="Tatum Brownlee" {% if lead.staff_member == "Tatum Brownlee" %}selected{% endif %}>Tatum Brownlee</option>
        <option value="Nicole Purvis" {% if lead.staff_member == "Nicole Purvis" %}selected{% endif %}>Nicole Purvis</option>
        <option value="Patrick O'Brien" {% if lead.staff_member == "Patrick O'Brien" %}selected{% endif %}>Patrick O'Brien</option>
        <option value="David Dischley" {% if lead.staff_member == "David Dischley" %}selected{% endif %}>David Dischley</option>
      </select>
      <label for="staffMemberSelect" class="form-label">Staff Member</label>
    </div>
    <div class="mb-3 form-floating">
      <select name="case_type" id="caseTypeDropdown" class="form-select">
        <option value="">-- Select Case Type --</option>
        <option value="Criminal" {% if lead.case_type == "Criminal" %}selected{% endif %}>Criminal</option>
        <option value="DUI" {% if lead.case_type == "DUI" %}selected{% endif %}>DUI</option>
        <option value="Traffic" {% if lead.case_type == "Traffic" %}selected{% endif %}>Traffic</option>
        <option value="Protective Order" {% if lead.case_type == "Protective Order" %}selected{% endif %}>Protective Order</option>
        <option value="Expungement" {% if lead.case_type == "Expungement" %}selected{% endif %}>Expungement</option>
        <option value="Probation Violation" {% if lead.case_type == "Probation Violation" %}selected{% endif %}>Probation Violation</option>
        <option value="Civil" {% if lead.case_type == "Civil" %}selected{% endif %}>Civil</option>
      </select>
      <label for="caseTypeDropdown" class="form-label">Type of Case</label>
    </div>
    <div class="mb-3 form-floating">
      <input type="text" name="attorney" class="form-control" placeholder="Attorney" value="{{ lead.attorney if lead.attorney }}">
      <label for="attorney" class="form-label">Attorney</label>
    </div>
    <div class="mb-3">
      <label for="lead_source" class="form-label">Lead Source</label>
      <input type="text" name="lead_source" class="form-control" value="{{ lead.lead_source }}">
    </div>
    <div class="mb-3 form-check">
      <input type="checkbox" name="send_retainer" class="form-check-input" id="sendRetainer" {% if lead.send_retainer %}checked{% endif %}>
      <label class="form-check-label" for="sendRetainer">Send Retainer</label>
    </div>
    <div class="mb-3">
      <label for="retainer_amount" class="form-label">Retainer Amount</label>
      <input type="text" name="retainer_amount" class="form-control" value="{{ lead.retainer_amount }}">
    </div>
    <div class="mb-3 form-check">
      <input type="checkbox" name="lvm" class="form-check-input" id="lvm" {% if lead.lvm %}checked{% endif %}>
      <label class="form-check-label" for="lvm">Left Voicemail</label>
    </div>
    <div class="mb-3 form-check">
      <input type="checkbox" name="not_pc" class="form-check-input" id="notPC" {% if lead.not_pc %}checked{% endif %}>
      <label class="form-check-label" for="notPC">Not a Potential Client</label>
    </div>
    <div class="mb-3">
      <label for="quote" class="form-label">Quoted Amount</label>
      <input type="text" name="quote" class="form-control" value="{{ lead.quote }}">
    </div>
    <button type="submit" class="btn btn-primary">Update Lead</button>
  </form>
</div>
{% endblock %}